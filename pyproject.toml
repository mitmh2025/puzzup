[project]
name = "puzzup-2025"
requires-python = ">=3.12"

[tool]
[tool.poetry]
name = "puzzup-2025"
version = "0.0.0"
description = "Puzzle development webapp"
authors = ["betaveros", "mitchgu", "jakob223", "dvorak42", "fortenforge", "Sandy Weisz", "James Sugrono", "teammate", "deathandmayhem"]

[tool.poetry.dependencies]
python = ">=3.12,<3.13"
aiogoogle = "^5.7.0"
asgiref = "^3.8.1"
beautifulsoup4 = "^4.12.3"
boto3 = "^1.34.99"
discord-interactions = "^0.4.0"
discord-py = "^2.3.2"
dj-database-url = "^2.1.0"
django = "^5.0.4"
django-debug-toolbar = "^4.3.0"
django-dirtyfields = "^1.9.2"
django-import-export = "^4.0.2"
django-ses = "^4.0.0"
gitpython = "^3.1.43"
gunicorn = {extras = ["gevent"], version = "^22.0.0"}
invoke = "^2.2.0"
ipython = "^8.24.0"
markdown = "^3.6"
matplotlib = "^3.8.4"
nh3 = "^0.2.17"
numpy = "^1.26.3"
Pillow = "^10.3.0"
psycopg = {extras = ["binary"], version = "^3.1.19"}
pymdown-extensions = "^10.8"
python-dotenv = "^1.0.1"
pyyaml = "^6.0.1"
requests = "^2.31.0"
sentry-sdk = "^2.0.1"
supervisor = "^4.2.5"
whitenoise = "^6.6.0"

[tool.poetry.group.dev.dependencies]
daphne = "^4.1.2"
django-stubs = {extras = ["compatible-mypy"], version = "^4.2.7"}
djhtml = "^3.0.6"
mypy = "<1.8.0"
pre-commit = "^3.7.1"
pylint = "^3.1.0"
pylint-django = "^2.5.5"
pylsp-mypy = "^0.6.8"
ruff = "^0.4.3"
types-beautifulsoup4 = "^4.12.0.20240504"
types-boto3 = "^1.0.2"
types-markdown = "^3.6.0.20240316"
types-pillow = "^10.2.0.20240415"
types-requests = "^2.31.0.20240406"

[tool.ruff]
fix = true
line-length = 88
extend-exclude = ["puzzle_editing/migrations"]

[tool.ruff.lint]
# By default, includes E (pycodestyle error), F (pyflakes)
extend-select = [
    "W",
    "I", # isort
    "UP", # pyupgrade
    "B", # flake8-bugbear
    "C4", # flake8-comprehensions
    "DJ", # flake8-django
    "ISC", # flake8-implicit-string-concat
    "EM", # flake8-errmsg
    "PIE",
    "Q", # flake8-quotes
    "SIM", # flake8-simplify
    "PTH",  # flake8-pathlib
    "PL",
    "RUF",
]
ignore = [
    "ISC001",
    "E501",
    "SIM102",
    "PLR091",
    "PLR2004",
    "DJ006",
]
allowed-confusables = ["â€“"]

[tool.mypy]
plugins = ["mypy_django_plugin.main"]

[tool.django-stubs]
django_settings_module = "settings.prod"
